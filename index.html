<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Evaluación Interactiva: Bird.com para Koaj.co con IA ✨</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        :root {
            --primary-color: #0D9488;
            --primary-light: #14B8A6;
            --primary-dark: #0F766E;
            --secondary-color: #059669;
            --accent-color: #F59E0B;
            --surface: #FFFFFF;
            --background: #F8FAFC;
            --text-primary: #0F172A;
            --text-secondary: #64748B;
            --border-color: #E2E8F0;
            --shadow-sm: 0 1px 2px 0 rgb(0 0 0 / 0.05);
            --shadow-md: 0 4px 6px -1px rgb(0 0 0 / 0.1), 0 2px 4px -2px rgb(0 0 0 / 0.1);
            --shadow-lg: 0 10px 15px -3px rgb(0 0 0 / 0.1), 0 4px 6px -4px rgb(0 0 0 / 0.1);
            --shadow-xl: 0 20px 25px -5px rgb(0 0 0 / 0.1), 0 8px 10px -6px rgb(0 0 0 / 0.1);
        }

        * {
            box-sizing: border-box;
        }

        body { 
            font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            background: linear-gradient(135deg, #F8FAFC 0%, #E2E8F0 100%);
            min-height: 100vh;
            line-height: 1.6;
            color: var(--text-primary);
        }

        .glassmorphism {
            background: rgba(255, 255, 255, 0.25);
            backdrop-filter: blur(10px);
            -webkit-backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.18);
        }

        .fade-in {
            animation: fadeIn 0.6s ease-out;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .slide-in {
            animation: slideIn 0.8s ease-out;
        }

        @keyframes slideIn {
            from { opacity: 0; transform: translateX(-30px); }
            to { opacity: 1; transform: translateX(0); }
        }

        .scale-in {
            animation: scaleIn 0.5s ease-out;
        }

        @keyframes scaleIn {
            from { opacity: 0; transform: scale(0.9); }
            to { opacity: 1; transform: scale(1); }
        }

        .floating {
            animation: floating 3s ease-in-out infinite;
        }

        @keyframes floating {
            0%, 100% { transform: translate(0px, 0px) rotate(0deg); }
            33% { transform: translate(30px, -30px) rotate(1deg); }
            66% { transform: translate(-20px, 20px) rotate(-1deg); }
        }

        .pulse-glow {
            animation: pulseGlow 2s ease-in-out infinite alternate;
        }

        @keyframes pulseGlow {
            from { box-shadow: 0 0 20px rgba(13, 148, 136, 0.3); }
            to { box-shadow: 0 0 30px rgba(13, 148, 136, 0.6); }
        }

        .icon-bounce {
            animation: iconBounce 2s ease-in-out infinite;
        }

        @keyframes iconBounce {
            0%, 20%, 50%, 80%, 100% { transform: translateY(0); }
            40% { transform: translateY(-10px); }
            60% { transform: translateY(-5px); }
        }

        .gradient-text {
            background: linear-gradient(135deg, var(--primary-color), var(--secondary-color));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .text-shadow {
            text-shadow: 2px 2px 4px rgba(0,0,0,0.1);
        }

        .card-modern {
            background: var(--surface);
            border-radius: 16px;
            box-shadow: var(--shadow-md);
            border: 1px solid var(--border-color);
            overflow: hidden;
        }

        .card-hover {
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        }

        .card-hover:hover {
            transform: translateY(-4px);
            box-shadow: var(--shadow-xl);
        }

        .btn-primary {
            background: linear-gradient(135deg, var(--primary-color), var(--primary-light));
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
        }

        .btn-primary::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255,255,255,0.2), transparent);
            transition: left 0.5s ease;
        }

        .btn-primary:hover::before {
            left: 100%;
        }

        .btn-primary:hover {
            transform: translateY(-2px);
            box-shadow: var(--shadow-lg);
        }

        ::-webkit-scrollbar {
            width: 12px;
        }

        ::-webkit-scrollbar-track {
            background: var(--background);
            border-radius: 6px;
        }

        ::-webkit-scrollbar-thumb {
            background: linear-gradient(135deg, var(--primary-color), var(--primary-light));
            border-radius: 6px;
            border: 2px solid var(--background);
        }

        ::-webkit-scrollbar-thumb:hover {
            background: linear-gradient(135deg, var(--primary-dark), var(--primary-color));
        }

        .loading-shimmer {
            background: linear-gradient(90deg, #f0f0f0 25%, #e0e0e0 50%, #f0f0f0 75%);
            background-size: 200% 100%;
            animation: shimmer 1.5s infinite;
        }

        @keyframes shimmer {
            0% { background-position: -200% 0; }
            100% { background-position: 200% 0; }
        }

        .section-enter {
            opacity: 0;
            transform: translateY(30px);
            transition: all 0.6s cubic-bezier(0.4, 0, 0.2, 1);
        }

        .section-enter.visible {
            opacity: 1;
            transform: translateY(0);
        }

        .tab-button {
            position: relative;
            overflow: hidden;
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            padding: 0.75rem 1.5rem;
            border-radius: 0.5rem 0.5rem 0 0;
            cursor: pointer;
            background-color: #e5e7eb;
            color: #374151;
            font-weight: 500;
            border-bottom: 3px solid transparent;
        }

        .tab-button::before {
            content: '';
            position: absolute;
            bottom: 0;
            left: 0;
            width: 0;
            height: 3px;
            background: linear-gradient(90deg, var(--primary-color), var(--primary-light));
            transition: width 0.3s ease;
        }

        .tab-button.active::before {
            width: 100%;
        }

        .tab-button.active {
            background: linear-gradient(135deg, var(--primary-color), var(--primary-light));
            color: white;
            box-shadow: var(--shadow-md);
            border-bottom: 3px solid var(--primary-color);
        }

        .tab-button:hover {
            background-color: rgba(13, 148, 136, 0.1);
            transform: translateY(-2px);
        }

        .tab-content { 
            display: none; 
            opacity: 0;
            transition: opacity 0.3s ease-in-out;
        }
        .tab-content.active { 
            display: block; 
            opacity: 1;
        }

        .card { 
            background: var(--surface);
            border-radius: 16px;
            box-shadow: var(--shadow-md);
            border: 1px solid var(--border-color);
            padding: 2rem;
            margin-bottom: 1.5rem;
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        }

        .card:hover {
            transform: translateY(-4px);
            box-shadow: var(--shadow-xl);
        }

        .card-title { 
            font-size: 1.25rem;
            font-weight: 600;
            color: var(--primary-color);
            margin-bottom: 0.75rem;
        }

        .card h3 { 
            font-size: 1.1rem;
            font-weight: 600;
            color: var(--text-primary);
            margin-top: 1rem;
            margin-bottom: 0.5rem;
        }

        .card p, .card li { 
            color: var(--text-secondary);
            line-height: 1.6;
        }

        .accordion-button { 
            background: linear-gradient(135deg, #F8FAFC, #F1F5F9);
            border: 1px solid var(--border-color);
            color: var(--text-primary);
            text-align: left;
            padding: 1.25rem;
            width: 100%;
            border-radius: 12px;
            cursor: pointer;
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            font-weight: 500;
            margin-bottom: 0.5rem;
        }

        .accordion-button:hover {
            background: linear-gradient(135deg, rgba(13, 148, 136, 0.1), rgba(20, 184, 166, 0.1));
            transform: translateY(-2px);
            box-shadow: var(--shadow-md);
        }

        .accordion-button.active {
            background: linear-gradient(135deg, var(--primary-color), var(--primary-light));
            color: white;
            box-shadow: var(--shadow-lg);
        }

        .accordion-content { 
            display: none;
            padding: 1.5rem;
            border: 1px solid var(--border-color);
            border-top: 0;
            border-radius: 0 0 12px 12px;
            background: var(--surface);
            box-shadow: var(--shadow-sm);
            transition: all 0.3s ease;
        }

        .chart-container { 
            position: relative;
            width: 100%;
            max-width: 800px;
            margin: 2rem auto;
            height: 400px;
            padding: 2rem;
            background: var(--surface);
            border-radius: 16px;
            box-shadow: var(--shadow-lg);
            border: 1px solid var(--border-color);
        }

        @media (max-width: 768px) {
            .chart-container {
                height: 300px;
                padding: 1rem;
            }
            
            .tab-button {
                padding: 0.5rem 1rem;
                font-size: 0.875rem;
            }
            
            .text-4xl {
                font-size: 2rem;
            }
        }

        .table-container { 
            max-width: 100%;
            overflow-x: auto;
            border-radius: 12px;
            box-shadow: var(--shadow-md);
            border: 1px solid var(--border-color);
        }

        th, td { 
            padding: 1rem;
            text-align: left;
            border-bottom: 1px solid var(--border-color);
        }

        th { 
            background: linear-gradient(135deg, #F8FAFC, #F1F5F9);
            font-weight: 600;
            color: var(--text-primary);
        }

        tr:hover {
            background-color: rgba(13, 148, 136, 0.05);
        }

        .badge { 
            display: inline-block;
            padding: 0.375rem 0.75rem;
            font-size: 0.75rem;
            font-weight: 600;
            line-height: 1;
            text-align: center;
            white-space: nowrap;
            vertical-align: baseline;
            border-radius: 9999px;
        }

        .badge-blue { 
            background: linear-gradient(135deg, #EBF8FF, #DBEAFE);
            color: var(--primary-color);
            border: 1px solid var(--primary-light);
        }

        .badge-green { 
            background: linear-gradient(135deg, #ECFDF5, #D1FAE5);
            color: var(--secondary-color);
            border: 1px solid var(--secondary-color);
        }

        .badge-orange { 
            background: linear-gradient(135deg, #FEF3E2, #FED7AA);
            color: var(--accent-color);
            border: 1px solid var(--accent-color);
        }

        .icon { 
            display: inline-block;
            width: 1.25em;
            height: 1.25em;
            margin-right: 0.5em;
            vertical-align: text-bottom;
        }

        .gemini-button {
            background: linear-gradient(135deg, #6366F1, #4F46E5);
            color: white;
            padding: 0.75rem 1.5rem;
            border-radius: 12px;
            font-weight: 500;
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            cursor: pointer;
            display: inline-flex;
            align-items: center;
            margin-top: 1rem;
            border: none;
            position: relative;
            overflow: hidden;
        }

        .gemini-button::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255,255,255,0.2), transparent);
            transition: left 0.5s ease;
        }

        .gemini-button:hover::before {
            left: 100%;
        }

        .gemini-button:hover { 
            background: linear-gradient(135deg, #4F46E5, #4338CA);
            transform: translateY(-2px);
            box-shadow: var(--shadow-lg);
        }

        .gemini-output {
            margin-top: 1.5rem;
            padding: 1.5rem;
            background: linear-gradient(135deg, #F9FAFB, #F3F4F6);
            border: 1px solid var(--border-color);
            border-radius: 12px;
            white-space: pre-wrap;
            font-family: 'Inter', monospace;
            font-size: 0.9em;
            box-shadow: var(--shadow-sm);
            line-height: 1.6;
        }

        .loading-spinner {
            border: 4px solid rgba(13, 148, 136, 0.1);
            width: 32px;
            height: 32px;
            border-radius: 50%;
            border-left-color: var(--primary-color);
            animation: spin 1s ease infinite;
            display: none;
            margin: 1.5rem auto;
        }

        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        .nav-button {
            position: relative;
            overflow: hidden;
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        }

        .nav-button.active {
            background: linear-gradient(135deg, var(--primary-color), var(--primary-light));
            color: white;
            box-shadow: var(--shadow-md);
        }
    </style>
</head>
<body class="antialiased">
    <header class="glassmorphism shadow-lg sticky top-0 z-50 backdrop-blur-md mb-8">
        <div class="container mx-auto px-4 sm:px-6 lg:px-8 py-8">
            <div class="text-center fade-in">
                <div class="flex items-center justify-center mb-6">
                    <div class="relative mr-4">
                        <div class="absolute inset-0 bg-gradient-to-r from-primary-color to-primary-light rounded-lg blur opacity-75 pulse-glow"></div>
                        <div class="relative w-16 h-16 bg-gradient-to-br from-primary-color to-primary-light rounded-lg flex items-center justify-center floating">
                            <i class="fas fa-chart-line text-white text-2xl"></i>
                        </div>
                    </div>
                    <div>
                        <h1 class="text-4xl sm:text-5xl font-bold gradient-text text-shadow slide-in">
                            <i class="fas fa-rocket mr-3 icon-bounce"></i>
                            Evaluación Interactiva
                        </h1>
                        <h2 class="text-2xl sm:text-3xl font-semibold text-primary-dark">
                            Bird.com para Koaj.co con IA ✨
                        </h2>
                    </div>
                </div>
                <div class="glassmorphism rounded-full px-8 py-3 inline-block backdrop-blur-sm">
                    <p class="text-slate-700 text-lg font-medium">
                        <i class="fas fa-chart-bar mr-2"></i>
                        Análisis de la plataforma de marketing automation y su aplicabilidad para el e-commerce de moda
                    </p>
                </div>
            </div>
        </div>
    </header>

    <nav class="glassmorphism shadow-md sticky top-0 z-40 backdrop-blur-md mb-8">
        <div class="container mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex flex-wrap justify-center gap-2 py-4">
                <button class="tab-button nav-button active" data-tab="resumen">
                    <i class="fas fa-file-alt mr-2"></i>
                    <span class="hidden sm:inline">Resumen Ejecutivo</span>
                    <span class="sm:hidden">Resumen</span>
                </button>
                <button class="tab-button nav-button" data-tab="capacidades">
                    <i class="fas fa-cogs mr-2"></i>
                    <span class="hidden sm:inline">Capacidades de Bird.com</span>
                    <span class="sm:hidden">Capacidades</span>
                </button>
                <button class="tab-button nav-button" data-tab="precios">
                    <i class="fas fa-dollar-sign mr-2"></i>
                    <span class="hidden sm:inline">Análisis de Precios</span>
                    <span class="sm:hidden">Precios</span>
                </button>
                <button class="tab-button nav-button" data-tab="journeys">
                    <i class="fas fa-route mr-2"></i>
                    <span class="hidden sm:inline">Customer Journeys</span>
                    <span class="sm:hidden">Journeys</span>
                </button>
            </div>
        </div>
    </nav>

    <main class="container mx-auto p-4 sm:p-6 lg:p-8">
        <div id="resumen" class="tab-content active section-enter">
            <div class="card card-hover fade-in">
                <h2 class="text-3xl font-bold mb-6 gradient-text">
                    <i class="fas fa-clipboard-list mr-3 icon-bounce"></i>
                    Resumen Ejecutivo del Análisis
                </h2>
                <div class="w-24 h-1 bg-gradient-to-r from-primary-color to-primary-light mx-auto rounded-full mb-6"></div>
                
                <p class="mb-4 text-lg">Este análisis evalúa la plataforma Bird.com en cuanto a su estructura de precios y capacidades de automatización de marketing, enfocándose en su aplicabilidad para las campañas masivas y la gestión de <em>customer journeys</em> (nutrición, conversión y ventas) de Koaj.co en Colombia.</p>
                
                <p class="mb-4">Bird.com se presenta como una solución omnicanal robusta con un constructor visual de <em>journeys</em>, segmentación avanzada y personalización impulsada por IA, y un modelo de precios transparente para mensajería SMS y WhatsApp.</p>
                
                <div class="bg-gradient-to-r from-blue-50 to-teal-50 p-6 rounded-lg border-l-4 border-primary-color mb-6">
                    <h3 class="font-bold text-xl mb-4 text-primary-color">
                        <i class="fas fa-lightbulb mr-2"></i>
                        Principales Conclusiones:
                    </h3>
                    <ul class="list-disc list-inside space-y-3 text-slate-700">
                        <li>Bird.com podría ser una solución viable para Koaj.co, considerando ciertos factores críticos.</li>
                        <li>Su estructura de precios basada en contactos, con costos de mensajería transferidos sin recargo, ofrece potencial de ahorro pero requiere gestión presupuestaria diligente.</li>
                        <li>Las capacidades para crear <em>journeys</em> personalizados son amplias; la efectividad de la IA dependerá de la calidad e integración de datos de Koaj.co.</li>
                        <li>La carga operativa para contenido personalizado y la necesidad de asegurar óptima entregabilidad local en Colombia son consideraciones importantes.</li>
                    </ul>
                </div>
                
                <div class="bg-gradient-to-r from-green-50 to-emerald-50 p-6 rounded-lg border-l-4 border-secondary-color">
                    <h3 class="font-bold text-xl mb-4 text-secondary-color">
                        <i class="fas fa-thumbs-up mr-2"></i>
                        Recomendación General:
                    </h3>
                    <p class="text-slate-700">Se recomienda a Koaj.co realizar una evaluación detallada de sus necesidades de volumen, auditar su infraestructura de datos, y planificar recursos para personalización. Una prueba piloto y una demostración personalizada son cruciales antes de una implementación a gran escala.</p>
                </div>
            </div>
        </div>

        <div id="capacidades" class="tab-content section-enter">
            <div class="card card-hover">
                <h2 class="text-3xl font-bold mb-6 gradient-text">
                    <i class="fas fa-tools mr-3 icon-bounce"></i>
                    Capacidades Clave de Bird.com para Koaj.co
                </h2>
                <div class="w-24 h-1 bg-gradient-to-r from-primary-color to-primary-light mx-auto rounded-full mb-6"></div>
                
                <p class="mb-8 text-lg text-center">Bird.com se posiciona como una suite de marketing omnicanal "IA primero" y "todo en uno", diseñada para unificar datos de clientes, automatizar campañas e impulsar ventas. A continuación, se exploran sus funcionalidades más relevantes para un e-commerce de moda como Koaj.co y las consideraciones asociadas.</p>

                <div class="space-y-6">
                    <div class="scale-in">
                        <button class="accordion-button flex justify-between items-center w-full">
                            <span><i class="fas fa-palette mr-3"></i>Constructor Visual de Journeys y Automatización</span>
                            <i class="fas fa-chevron-down arrow-icon transform transition-transform duration-300"></i>
                        </button>
                        <div class="accordion-content">
                            <p class="mb-3"><strong>Funcionalidad:</strong> Bird.com ofrece un "Flow Builder" visual para diseñar flujos de marketing personalizados (arrastrar y soltar, sin código). Activación por más de 100 integraciones/APIs (eventos de e-commerce como "inicio de pago", "vistas de producto"). Orquestación multicanal (Email, SMS, WhatsApp, etc.) con <em>smart fallbacks</em>. Plantillas preconstruidas para escenarios de e-commerce.</p>
                            <p class="mb-3"><strong>Relevancia para Koaj.co:</strong> Crucial para crear y adaptar <em>journeys</em> rápidamente. Integración vital para automatizar respuestas basadas en comportamiento en tiempo real. Plantillas pueden acelerar implementación.</p>
                            <div class="bg-yellow-50 border-l-4 border-yellow-400 p-4 rounded">
                                <p class="text-yellow-800"><strong>Consideración Crítica:</strong> Evaluar si el entorno "sin código" es suficientemente flexible para <em>journeys</em> de moda complejos. La simplicidad podría enmascarar limitaciones para escenarios altamente personalizados, requiriendo potencialmente el uso de APIs más técnicas.</p>
                            </div>
                        </div>
                    </div>

                    <div class="scale-in">
                        <button class="accordion-button flex justify-between items-center w-full">
                            <span><i class="fas fa-bullseye mr-3"></i>Segmentación Avanzada y Focalización</span>
                            <i class="fas fa-chevron-down arrow-icon transform transition-transform duration-300"></i>
                        </button>
                        <div class="accordion-content">
                            <p class="mb-3"><strong>Funcionalidad:</strong> Creación de segmentos de usuarios precisos y dinámicos (vistas de página, compras, ubicación, interacciones). Segmentación impulsada por IA para identificar patrones y crear segmentos matizados (comportamiento, preferencias, etapa del ciclo de vida). Actualización en tiempo real. Integración de datos de CRM, ERP, CDP, e-commerce.</p>
                            <p class="mb-3"><strong>Relevancia para Koaj.co:</strong> Fundamental para adaptar campañas a grupos específicos y descubrir oportunidades ocultas. Dinamismo asegura relevancia continua.</p>
                            <div class="bg-yellow-50 border-l-4 border-yellow-400 p-4 rounded">
                                <p class="text-yellow-800"><strong>Consideración Crítica:</strong> La efectividad de la IA depende de la calidad y exhaustividad de los datos de Koaj.co. Una auditoría de datos y mejoras en higiene/integración son prerrequisitos para maximizar el ROI de esta función.</p>
                            </div>
                        </div>
                    </div>

                    <div class="scale-in">
                        <button class="accordion-button flex justify-between items-center w-full">
                            <span><i class="fas fa-magic mr-3"></i>Motor de Personalización (Contenido Dinámico, IA)</span>
                            <i class="fas fa-chevron-down arrow-icon transform transition-transform duration-300"></i>
                        </button>
                        <div class="accordion-content">
                            <p class="mb-3"><strong>Funcionalidad:</strong> Personalización a escala con variables dinámicas y datos de clientes. Bloques de contenido dinámico ajustables. Escritura asistida por IA para líneas de asunto, cuerpo de mensajes (Email, WhatsApp). Sugerencias automáticas de productos (integración Shopify). Chatbots IA para conversaciones personalizadas.</p>
                            <p class="mb-3"><strong>Relevancia para Koaj.co:</strong> Personalizar recomendaciones, ofertas y contenido. Ahorro de tiempo para equipo de contenido. Mejora de servicio al cliente.</p>
                            <div class="bg-yellow-50 border-l-4 border-yellow-400 p-4 rounded mb-4">
                                <p class="text-yellow-800"><strong>Consideración Crítica:</strong> La carga operativa de crear y gestionar contenido personalizado para un catálogo de moda diverso puede ser considerable, incluso con IA. La efectividad de la IA para "personalizar verdaderamente a escala" sin intervención manual significativa para moda es un factor clave. Se recomienda una prueba piloto.</p>
                            </div>
                            <button class="gemini-button btn-primary" id="generatePersonalizedContentBtn">
                                <i class="fas fa-sparkles mr-2"></i>
                                Generar Ejemplos de Contenido Personalizado con IA
                            </button>
                            <div class="loading-spinner" id="personalizedContentSpinner"></div>
                            <div class="gemini-output" id="personalizedContentOutput" style="display:none;"></div>
                        </div>
                    </div>

                    <div class="scale-in">
                        <button class="accordion-button flex justify-between items-center w-full">
                            <span><i class="fas fa-chart-bar mr-3"></i>Pruebas A/B y Optimización de Campañas</span>
                            <i class="fas fa-chevron-down arrow-icon transform transition-transform duration-300"></i>
                        </button>
                        <div class="accordion-content">
                            <p class="mb-3"><strong>Funcionalidad:</strong> Pruebas A/B para optimizar líneas de asunto, CTAs, imágenes, basándose en CTR, tasa de lectura, tasa de apertura. Tamaño de prueba, duración y fallback configurables. Pruebas A/B automatizadas para secuencias de automatización de correo.</p>
                            <p class="mb-3"><strong>Relevancia para Koaj.co:</strong> Esencial para mejorar continuamente el rendimiento de campañas.</p>
                            <div class="bg-yellow-50 border-l-4 border-yellow-400 p-4 rounded">
                                <p class="text-yellow-800"><strong>Consideración Crítica:</strong> Aclarar si las pruebas A/B se aplican a rutas completas de <em>journey</em> o solo a componentes de mensajes. Optimizar secuencias completas es importante para Koaj.co.</p>
                            </div>
                        </div>
                    </div>

                    <div class="scale-in">
                        <button class="accordion-button flex justify-between items-center w-full">
                            <span><i class="fas fa-analytics mr-3"></i>Analíticas e Informes Integrados</span>
                            <i class="fas fa-chevron-down arrow-icon transform transition-transform duration-300"></i>
                        </button>
                        <div class="accordion-content">
                            <p class="mb-3"><strong>Funcionalidad:</strong> Analíticas multicanal (vistas, visitantes, carritos, interacción, conversión). Datos detallados sobre entregabilidad e informes personalizables. Analíticas de <em>journey</em> (rendimiento por segmento y paso). Perspectivas impulsadas por IA (tendencias, predicciones, anomalías).</p>
                            <p class="mb-3"><strong>Relevancia para Koaj.co:</strong> Vista unificada para comprender efectividad general. Identificar áreas de mejora.</p>
                            <div class="bg-yellow-50 border-l-4 border-yellow-400 p-4 rounded">
                                <p class="text-yellow-800"><strong>Consideración Crítica:</strong> Para SMS/WhatsApp, donde Bird.com es intermediario, la entregabilidad final depende de operadores externos/Meta. Koaj.co necesita entender la transparencia de las analíticas en esta cadena y la granularidad de los informes de entregabilidad para distinguir problemas de plataforma vs. operador.</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <div id="precios" class="tab-content section-enter">
            <div class="card card-hover">
                <h2 class="text-3xl font-bold mb-6 gradient-text">
                    <i class="fas fa-money-bill-wave mr-3 icon-bounce"></i>
                    Análisis de la Estructura de Precios de Bird.com
                </h2>
                <div class="w-24 h-1 bg-gradient-to-r from-primary-color to-primary-light mx-auto rounded-full mb-6"></div>
                
                <p class="mb-8 text-lg text-center">El modelo de precios de Bird.com se basa principalmente en el número de contactos, con costos adicionales para la mensajería SMS y WhatsApp que se transfieren directamente de los proveedores (Meta, operadores) sin recargo por parte de Bird.com. Es crucial entender todos los componentes para estimar el Costo Total de Propiedad (TCO).</p>

                <h3 class="card-title mt-8 mb-4 text-2xl">
                    <i class="fas fa-table mr-2"></i>
                    Niveles del Plan de Marketing y Características
                </h3>
                <div class="table-container mb-8">
                    <table class="min-w-full">
                        <thead>
                            <tr>
                                <th>Nivel del Plan (Contactos Mensuales)</th>
                                <th>Costo Mensual (Contrato Anual)</th>
                                <th>Envíos Mensuales Incluidos</th>
                                <th class="w-1/3">Características Clave Incluidas</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td><span class="badge badge-blue">Hasta 3,000</span></td>
                                <td><strong>Desde $45</strong></td>
                                <td>Hasta 30,000</td>
                                <td>Journeys, CDP, Segmentación, Personalización, Analíticas, Cobertura global SMS/WhatsApp, Integraciones, Cumplimiento GDPR</td>
                            </tr>
                            <tr><td><span class="badge badge-green">Hasta 10,000</span></td><td>Contactar para precio</td><td>Variable</td><td>Ídem</td></tr>
                            <tr><td><span class="badge badge-green">Hasta 20,000</span></td><td>Contactar para precio</td><td>Variable</td><td>Ídem</td></tr>
                            <tr><td><span class="badge badge-green">Hasta 30,000</span></td><td>Contactar para precio</td><td>Variable</td><td>Ídem</td></tr>
                            <tr><td><span class="badge badge-orange">Hasta 40,000</span></td><td>Contactar para precio</td><td>Variable</td><td>Ídem</td></tr>
                            <tr><td><span class="badge badge-orange">Hasta 50,000</span></td><td>Contactar para precio</td><td>Variable</td><td>Ídem</td></tr>
                            <tr>
                                <td><span class="badge badge-orange">Enterprise (>50,000)</span></td>
                                <td>Personalizado</td>
                                <td>Ilimitados</td>
                                <td>Todas las características del plan estándar más posibles características empresariales avanzadas y soporte personalizado</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
                
                <div class="bg-blue-50 border-l-4 border-blue-400 p-4 rounded mb-6">
                    <p class="text-blue-800 text-sm"><em><strong>Nota:</strong> Detalles exactos de envíos y precios para niveles >3,000 contactos deben confirmarse con Bird.com. Precios listados para contratos anuales pagados por adelantado.</em></p>
                </div>
                
                <div class="bg-yellow-50 border-l-4 border-yellow-400 p-4 rounded mb-8">
                    <p class="text-yellow-800"><strong>Consideración Crítica:</strong> La afirmación "todas las características incluidas" necesita aclaración. Koaj.co debe confirmar si funcionalidades avanzadas (IA, integraciones específicas) son parte de los niveles estándar sin umbrales ocultos o si requieren el plan Enterprise. Esto es vital para evitar costos inesperados.</p>
                </div>

                <h3 class="card-title mt-8 mb-4 text-2xl">
                    <i class="fas fa-comments mr-2"></i>
                    Costos de Mensajería Adicional (SMS y WhatsApp)
                </h3>
                <p class="mb-6 text-center">Bird.com transfiere las tarifas de WhatsApp (Meta) y SMS (operadores) sin recargo. Koaj.co debe presupuestar estos costos variables directamente.</p>
                
                <div class="chart-container">
                    <canvas id="messagingCostsChart"></canvas>
                </div>
                
                <div class="grid md:grid-cols-2 gap-8 mt-8">
                    <div class="card-modern p-6">
                        <h4 class="font-bold text-lg mb-4 text-primary-color">
                            <i class="fab fa-whatsapp mr-2"></i>
                            WhatsApp (Tarifas de Meta para Colombia - Estimadas)
                        </h4>
                        <ul class="list-disc list-inside space-y-2">
                            <li><strong>Marketing:</strong> ~$0.0144 USD / conversación</li>
                            <li><strong>Utilidad:</strong> ~$0.0002 USD / conversación (verificar esta tarifa)</li>
                            <li><strong>Autenticación:</strong> ~$0.0089 USD / conversación</li>
                            <li><strong>Servicio (iniciado por usuario):</strong> Generalmente $0.00 USD</li>
                        </ul>
                        <p class="text-sm text-gray-600 mt-3 italic">Sujeto a ventana de conversación de 24h.</p>
                    </div>
                    <div class="card-modern p-6">
                        <h4 class="font-bold text-lg mb-4 text-primary-color">
                            <i class="fas fa-sms mr-2"></i>
                            SMS (Envío a Colombia - Estimado)
                        </h4>
                        <ul class="list-disc list-inside space-y-2">
                            <li><strong>Rango típico:</strong> ~$0.0213 - $0.0335 USD / mensaje</li>
                            <li>Varía por proveedor (ej. Releans, Twilio) y volumen.</li>
                        </ul>
                    </div>
                </div>
                
                <div class="bg-red-50 border-l-4 border-red-400 p-4 rounded mt-6">
                    <p class="text-red-800"><strong>Consideración Crítica:</strong> La política de "sin recargo" es positiva, pero Koaj.co asume la responsabilidad de gestionar costos fluctuantes de Meta/operadores. Esto traslada el riesgo de variabilidad de costos al cliente y requiere un monitoreo robusto.</p>
                </div>

                <h3 class="card-title mt-8 mb-4 text-2xl">
                    <i class="fas fa-plus-circle mr-2"></i>
                    Costos Potenciales de Funciones Adicionales
                </h3>
                <p class="mb-4">Bird.com lista varias funciones con "precios personalizados" que podrían ser relevantes:</p>
                <div class="grid md:grid-cols-2 gap-4">
                    <ul class="list-disc list-inside space-y-2">
                        <li>PowerMTA (autoalojado)</li>
                        <li>Email Analytics (ubicación en bandeja de entrada)</li>
                        <li>Competitive Tracker</li>
                        <li>Email Recipient Validation</li>
                    </ul>
                    <ul class="list-disc list-inside space-y-2">
                        <li>Planes de soporte avanzados</li>
                        <li>Developer Cloud (APIs)</li>
                        <li>Service Cloud (>2 puestos)</li>
                    </ul>
                </div>
                <p class="mt-4 font-medium">Koaj.co debe determinar si alguna de estas es esencial, ya que representarían costos adicionales al TCO.</p>
            </div>
        </div>

        <div id="journeys" class="tab-content section-enter">
            <div class="card card-hover">
                <h2 class="text-3xl font-bold mb-6 gradient-text">
                    <i class="fas fa-route mr-3 icon-bounce"></i>
                    Diseño de Customer Journeys de Alto Impacto para Koaj.co
                </h2>
                <div class="w-24 h-1 bg-gradient-to-r from-primary-color to-primary-light mx-auto rounded-full mb-6"></div>
                
                <p class="mb-8 text-lg text-center">Utilizando las capacidades de Bird.com, Koaj.co puede construir *customer journeys* efectivos para nutrir prospectos, optimizar la conversión e impulsar la lealtad. El contenido visual y la personalización son primordiales para una marca de moda.</p>

                <div class="space-y-6">
                    <div class="scale-in">
                        <button class="accordion-button flex justify-between items-center w-full">
                            <span><i class="fas fa-seedling mr-3"></i>Journeys de Nutrición Fundamentales</span>
                            <i class="fas fa-chevron-down arrow-icon transform transition-transform duration-300"></i>
                        </button>
                        <div class="accordion-content space-y-6">
                            <div class="bg-gradient-to-r from-green-50 to-emerald-50 p-6 rounded-lg">
                                <h4 class="font-bold text-lg mb-3 text-green-700">
                                    <i class="fas fa-handshake mr-2"></i>
                                    Serie de Bienvenida para Nuevos Suscriptores
                                </h4>
                                <p class="mb-3"><strong>Objetivo:</strong> Incorporar, presentar la marca Koaj.co, destacar propuestas de valor (diseño colombiano, calidad), fomentar primera compra.</p>
                                <p class="mb-3"><strong>Pasos Clave con Bird.com:</strong></p>
                                <ol class="list-decimal list-inside ml-4 space-y-2">
                                    <li><strong>Inmediato (Email/WhatsApp):</strong> Bienvenida personalizada (Contenido Dinámico). Historia/misión de Koaj.co.</li>
                                    <li><strong>Día 2 (Email):</strong> Mostrar categorías top/nuevas colecciones (Contenido Dinámico si hay preferencias).</li>
                                    <li><strong>Día 4 (Email):</strong> Oferta primer pedido (descuento/envío gratis). Beneficios de ser suscriptor.</li>
                                    <li><strong>Día 7 (Email):</strong> UGC, selecciones de estilistas, presentar redes sociales.</li>
                                </ol>
                                <p class="mt-3"><strong>Bird.com:</strong> Formularios de Registro, Constructor de Journeys, Personalización.</p>
                            </div>
                            
                            <div class="bg-gradient-to-r from-blue-50 to-cyan-50 p-6 rounded-lg">
                                <h4 class="font-bold text-lg mb-3 text-blue-700">
                                    <i class="fas fa-users mr-2"></i>
                                    Nutrición de Prospectos (Interesados sin compra)
                                </h4>
                                <p class="mb-3"><strong>Objetivo:</strong> Involucrar usuarios con interés (ej. descarga guía estilo, vistas de producto) pero sin compra.</p>
                                <p><strong>Estrategia con Bird.com:</strong> Segmentar por interacciones (CDP, Segmentación). Entregar contenido específico (tendencias moda colombiana, lookbooks Koaj.co) vía journeys de email. Adaptar contenido según interacción (Seguimiento de Comportamiento).</p>
                            </div>
                            
                            <div class="bg-orange-50 border-l-4 border-orange-400 p-4 rounded">
                                <p class="text-orange-800"><span class="font-bold">Consideración Crítica (Visual):</span> Para moda, el contenido visual es primordial. Asegurar que el *rich media* (imágenes, videos) se renderice bien en Colombia. Probar en diversos clientes de correo/dispositivos. Podrían necesitarse respaldos de texto plano/imágenes optimizadas.</p>
                            </div>
                            
                            <button class="gemini-button btn-primary" data-journey-type="Nutrición" data-journey-name="Serie de Bienvenida y Nutrición de Prospectos">
                                <i class="fas fa-lightbulb mr-2"></i>
                                Sugerir Ideas de Contenido para Journeys de Nutrición con IA
                            </button>
                            <div class="loading-spinner" id="journeyNutricionSpinner"></div>
                            <div class="gemini-output" id="journeyNutricionOutput" style="display:none;"></div>
                        </div>
                    </div>

                    <div class="scale-in">
                        <button class="accordion-button flex justify-between items-center w-full">
                            <span><i class="fas fa-shopping-cart mr-3"></i>Optimización para la Conversión</span>
                            <i class="fas fa-chevron-down arrow-icon transform transition-transform duration-300"></i>
                        </button>
                        <div class="accordion-content space-y-6">
                            <div class="bg-gradient-to-r from-purple-50 to-indigo-50 p-6 rounded-lg">
                                <h4 class="font-bold text-lg mb-3 text-purple-700">
                                    <i class="fas fa-undo mr-2"></i>
                                    Secuencias de Recuperación de Carrito Abandonado
                                </h4>
                                <p class="mb-3"><strong>Objetivo:</strong> Reenganchar usuarios que añadieron artículos al carrito pero no compraron.</p>
                                <p class="mb-3"><strong>Journey Detallado:</strong></p>
                                <div class="table-container my-4">
                                    <table class="min-w-full">
                                        <thead><tr><th>Paso</th><th>Tiempo Estimado</th><th>Canal</th><th>Contenido Clave</th><th>Bird.com Utilizado</th></tr></thead>
                                        <tbody>
                                            <tr><td>1</td><td>1-3 horas</td><td>Email</td><td>Recordatorio amigable + Imágenes artículos</td><td>Contenido Dinámico, Segmentación</td></tr>
                                            <tr><td>2</td><td>24 horas</td><td>Email</td><td>Prueba social (reseñas) + Urgencia (stock)</td><td>Contenido Dinámico, Personalización</td></tr>
                                            <tr><td>3</td><td>48-72 horas</td><td>Email/WhatsApp</td><td>Oferta (descuento/envío) + CTA</td><td>Personalización, Pruebas A/B</td></tr>
                                        </tbody>
                                    </table>
                                </div>
                            </div>
                            
                            <div class="bg-gradient-to-r from-pink-50 to-rose-50 p-6 rounded-lg">
                                <h4 class="font-bold text-lg mb-3 text-pink-700">
                                    <i class="fas fa-eye mr-2"></i>
                                    Retargeting por Abandono de Navegación
                                </h4>
                                <p class="mb-3"><strong>Objetivo:</strong> Reenganchar usuarios que vieron productos/categorías pero no añadieron al carrito.</p>
                                <p><strong>Estrategia con Bird.com:</strong> Usar Seguimiento Web y Segmentación. Activar journey mostrando artículos vistos/similares. Recomendaciones de productos dinámicas. Ejemplo: "¿Aún pensando en [Producto]? Mira novedades en [Categoría]".</p>
                            </div>
                            
                            <div class="bg-gradient-to-r from-teal-50 to-cyan-50 p-6 rounded-lg">
                                <h4 class="font-bold text-lg mb-3 text-teal-700">
                                    <i class="fas fa-star mr-2"></i>
                                    Automatizaciones de Recomendación y Venta Cruzada/Adicional
                                </h4>
                                <p class="mb-3"><strong>Objetivo:</strong> Aumentar AOV sugiriendo artículos relevantes.</p>
                                <p><strong>Estrategia con Bird.com:</strong> Durante pago o en correos post-compra, usar personalización IA para sugerir complementos ("Completa el look") o alternativas de mayor valor. Integrar con e-commerce para historial de compras.</p>
                            </div>
                            
                            <button class="gemini-button btn-primary" data-journey-type="Conversión" data-journey-name="Recuperación de Carrito, Retargeting y Recomendaciones">
                                <i class="fas fa-lightbulb mr-2"></i>
                                Sugerir Ideas de Contenido para Journeys de Conversión con IA
                            </button>
                            <div class="loading-spinner" id="journeyConversionSpinner"></div>
                            <div class="gemini-output" id="journeyConversionOutput" style="display:none;"></div>
                        </div>
                    </div>

                    <div class="scale-in">
                        <button class="accordion-button flex justify-between items-center w-full">
                            <span><i class="fas fa-heart mr-3"></i>Impulso de Ventas, Lealtad y Promoción (Post-Compra)</span>
                            <i class="fas fa-chevron-down arrow-icon transform transition-transform duration-300"></i>
                        </button>
                        <div class="accordion-content space-y-6">
                            <div class="grid md:grid-cols-2 gap-6">
                                <div class="bg-gradient-to-r from-blue-50 to-indigo-50 p-4 rounded-lg">
                                    <h4 class="font-bold text-lg mb-2 text-blue-700">
                                        <i class="fas fa-receipt mr-2"></i>
                                        Comunicaciones Transaccionales
                                    </h4>
                                    <p class="text-sm mb-2"><strong>Objetivo:</strong> Actualizaciones oportunas de estado de pedido (confirmaciones, envío).</p>
                                    <p class="text-sm"><strong>Bird.com:</strong> Automatizar vía Email/WhatsApp (mensajes de Utilidad). Incluir enlaces de seguimiento. Oportunidad para reforzar marca.</p>
                                </div>
                                
                                <div class="bg-gradient-to-r from-green-50 to-emerald-50 p-4 rounded-lg">
                                    <h4 class="font-bold text-lg mb-2 text-green-700">
                                        <i class="fas fa-tshirt mr-2"></i>
                                        Guías de Uso y Consejos de Estilo
                                    </h4>
                                    <p class="text-sm mb-2"><strong>Objetivo:</strong> Ayudar a clientes a sacar provecho de compras, mejorar satisfacción.</p>
                                    <p class="text-sm"><strong>Bird.com:</strong> Enviar consejos de estilo para artículos comprados, instrucciones de cuidado, enlaces a blog/videos "cómo usar". Personalizar según compra.</p>
                                </div>
                                
                                <div class="bg-gradient-to-r from-purple-50 to-violet-50 p-4 rounded-lg">
                                    <h4 class="font-bold text-lg mb-2 text-purple-700">
                                        <i class="fas fa-star-half-alt mr-2"></i>
                                        Campañas de Generación de Reseñas y UGC
                                    </h4>
                                    <p class="text-sm mb-2"><strong>Objetivo:</strong> Animar a clientes a dejar reseñas y compartir fotos con prendas Koaj.co.</p>
                                    <p class="text-sm"><strong>Bird.com:</strong> Mensaje automatizado post-entrega solicitando reseña. Incentivar (descuento, sorteo). Campañas para compartir en redes con hashtag Koaj.co.</p>
                                </div>
                                
                                <div class="bg-gradient-to-r from-yellow-50 to-amber-50 p-4 rounded-lg">
                                    <h4 class="font-bold text-lg mb-2 text-yellow-700">
                                        <i class="fas fa-crown mr-2"></i>
                                        Interacción con Programa de Lealtad y Niveles VIP
                                    </h4>
                                    <p class="text-sm mb-2"><strong>Objetivo:</strong> Recompensar clientes recurrentes, fomentar mayor LTV.</p>
                                    <p class="text-sm"><strong>Bird.com:</strong> Enviar ofertas exclusivas, acceso anticipado a colecciones, recompensas de cumpleaños a segmentos leales. Automatizar comunicaciones sobre puntos/niveles. Invitar a unirse post-compra.</p>
                                </div>
                                
                                <div class="bg-gradient-to-r from-red-50 to-pink-50 p-4 rounded-lg">
                                    <h4 class="font-bold text-lg mb-2 text-red-700">
                                        <i class="fas fa-user-clock mr-2"></i>
                                        Campañas de Reactivación para Clientes Inactivos
                                    </h4>
                                    <p class="text-sm mb-2"><strong>Objetivo:</strong> Recuperar clientes que no han comprado en un tiempo.</p>
                                    <p class="text-sm"><strong>Bird.com:</strong> Segmentar por fecha última compra. Enviar campaña "Te extrañamos" con oferta, mostrar nuevas colecciones, solicitar feedback.</p>
                                </div>
                            </div>
                            
                            <div class="bg-orange-50 border-l-4 border-orange-400 p-4 rounded mt-4">
                                <p class="text-orange-800"><span class="font-bold">Consideración Crítica (Plantillas):</span> El éxito depende de plantillas de alta calidad y con marca consistente. Koaj.co necesitará personalizar extensamente o crear las suyas para reflejar su identidad visual única. Esto representa una inversión inicial creativa y de configuración.</p>
                            </div>
                            
                            <button class="gemini-button btn-primary" data-journey-type="Ventas y Lealtad" data-journey-name="Post-Compra, Reseñas, Lealtad y Reactivación">
                                <i class="fas fa-lightbulb mr-2"></i>
                                Sugerir Ideas de Contenido para Journeys de Ventas/Lealtad con IA
                            </button>
                            <div class="loading-spinner" id="journeyLealtadSpinner"></div>
                            <div class="gemini-output" id="journeyLealtadOutput" style="display:none;"></div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </main>

    <footer class="glassmorphism backdrop-blur-md text-center py-8 mt-16 border-t border-gray-200">
        <div class="container mx-auto px-4">
            <div class="flex items-center justify-center mb-4">
                <div class="w-12 h-12 bg-gradient-to-br from-primary-color to-primary-light rounded-lg flex items-center justify-center mr-3 floating">
                    <i class="fas fa-chart-line text-white text-lg"></i>
                </div>
                <h3 class="text-xl font-bold gradient-text">Análisis Interactivo para Koaj.co</h3>
            </div>
            <p class="text-sm text-gray-600">
                &copy; <span id="currentYear"></span> Basado en el reporte de evaluación de Bird.com.
                <br>
                <i class="fas fa-rocket mr-1"></i>
                Modernizado con tecnologías de vanguardia
            </p>
        </div>
    </footer>

    <script>
        document.getElementById('currentYear').textContent = new Date().getFullYear();

        // Enhanced tab functionality with animations
        const tabs = document.querySelectorAll('.tab-button');
        const contents = document.querySelectorAll('.tab-content');

        tabs.forEach(tab => {
            tab.addEventListener('click', () => {
                // Remove active class from all tabs and content
                tabs.forEach(item => item.classList.remove('active'));
                contents.forEach(content => {
                    content.classList.remove('active');
                    content.style.display = 'none';
                    content.style.opacity = '0';
                });

                // Add active class to clicked tab
                tab.classList.add('active');

                // Show target content with animation
                const target = tab.getAttribute('data-tab');
                const targetContent = document.getElementById(target);
                if (targetContent) {
                    targetContent.style.display = 'block';
                    targetContent.classList.add('active');
                    // Force reflow then set opacity
                    targetContent.offsetHeight;
                    targetContent.style.opacity = '1';
                }
            });
        });

        // Enhanced accordion functionality
        const accordionButtons = document.querySelectorAll('.accordion-button');
        accordionButtons.forEach(button => {
            button.addEventListener('click', () => {
                const content = button.nextElementSibling;
                const arrow = button.querySelector('.arrow-icon');
                const isOpen = content.style.display === 'block';
                
                if (isOpen) {
                    content.style.display = 'none';
                    button.classList.remove('active');
                    if(arrow) arrow.classList.remove('rotate-180');
                } else {
                    content.style.display = 'block';
                    button.classList.add('active');
                    if(arrow) arrow.classList.add('rotate-180');
                }
            });
        });

        // Intersection Observer for scroll animations
        const observerOptions = {
            threshold: 0.1,
            rootMargin: '0px 0px -50px 0px'
        };

        const observer = new IntersectionObserver((entries) => {
            entries.forEach(entry => {
                if (entry.isIntersecting) {
                    entry.target.classList.add('visible');
                }
            });
        }, observerOptions);

        // Observe all section elements
        document.addEventListener('DOMContentLoaded', () => {
            const sections = document.querySelectorAll('.section-enter');
            sections.forEach(section => observer.observe(section));
        });
        
        // Chart label formatting function
        function formatLabel(str, maxwidth) {
            if (str === undefined || str === null) return '';
            const sections = [];
            let words = String(str).split(" ");
            let temp = "";
            words.forEach((item, index) => {
                if (temp.length > 0) {
                    temp += " " + item;
                } else {
                    temp = item;
                }
                if (temp.length > maxwidth) {
                    sections.push(temp);
                    temp = "";
                }
            });
            if (temp.length > 0) {
                sections.push(temp);
            }
            return sections.length > 0 ? sections : str;
        }

        // Enhanced Chart.js implementation
        if (document.getElementById('messagingCostsChart')) {
            const ctx = document.getElementById('messagingCostsChart').getContext('2d');
            new Chart(ctx, {
                type: 'bar',
                data: {
                    labels: ['Marketing WA', 'Utilidad WA', 'Autenticación WA', 'SMS (Rango Bajo)', 'SMS (Rango Alto)'],
                    datasets: [{
                        label: 'Costo Estimado por Mensaje/Conversación (USD)',
                        data: [0.0144, 0.0002, 0.0089, 0.0213, 0.0335],
                        backgroundColor: [
                            'rgba(13, 148, 136, 0.8)', 
                            'rgba(5, 150, 105, 0.8)', 
                            'rgba(245, 158, 11, 0.8)',  
                            'rgba(99, 102, 241, 0.8)', 
                            'rgba(239, 68, 68, 0.8)'   
                        ],
                        borderColor: [
                            'rgba(13, 148, 136, 1)',
                            'rgba(5, 150, 105, 1)',
                            'rgba(245, 158, 11, 1)',
                            'rgba(99, 102, 241, 1)',
                            'rgba(239, 68, 68, 1)'
                        ],
                        borderWidth: 2,
                        borderRadius: 8,
                        borderSkipped: false
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: {
                        legend: { 
                            display: false 
                        },
                        title: { 
                            display: true, 
                            text: 'Costos Estimados de Mensajería para Colombia (por unidad)', 
                            padding: { top: 10, bottom: 30 }, 
                            font: { size: 18, weight: 'bold' },
                            color: '#0F172A'
                        },
                        tooltip: { 
                            backgroundColor: 'rgba(15, 23, 42, 0.9)',
                            titleColor: '#ffffff',
                            bodyColor: '#ffffff',
                            borderColor: '#E2E8F0',
                            borderWidth: 1,
                            cornerRadius: 12,
                            callbacks: { 
                                label: function(context) { 
                                    let label = context.dataset.label || ''; 
                                    if (label) { label += ': '; } 
                                    if (context.parsed.y !== null) { 
                                        label += new Intl.NumberFormat('en-US', { 
                                            style: 'currency', 
                                            currency: 'USD', 
                                            minimumFractionDigits: 4 
                                        }).format(context.parsed.y); 
                                    } 
                                    return label; 
                                } 
                            } 
                        }
                    },
                    scales: {
                        y: {
                            beginAtZero: true,
                            title: { 
                                display: true, 
                                text: 'Costo (USD)',
                                font: { size: 14, weight: 'bold' },
                                color: '#64748B'
                            },
                            ticks: { 
                                callback: function(value) { 
                                    return '$' + value.toFixed(4); 
                                },
                                color: '#64748B'
                            },
                            grid: {
                                color: 'rgba(0,0,0,0.1)'
                            }
                        },
                        x: { 
                            ticks: { 
                                callback: function(value) { 
                                    const label = this.getLabelForValue(value); 
                                    return formatLabel(label, 10); 
                                },
                                color: '#64748B'
                            },
                            grid: {
                                display: false
                            }
                        }
                    },
                    animation: {
                        duration: 1000,
                        easing: 'easeOutQuart'
                    }
                }
            });
        }

        // Enhanced Gemini API integration
        const apiKey = ""; 

        async function callGeminiAPI(prompt, outputElement, spinnerElement) {
            if (!outputElement || !spinnerElement) {
                console.error("Output or spinner element not found for Gemini API call.");
                return;
            }
            spinnerElement.style.display = 'block';
            outputElement.style.display = 'none';
            outputElement.textContent = '';

            const apiUrl = `https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash:generateContent?key=${apiKey}`;
            const payload = {
                contents: [{ role: "user", parts: [{ text: prompt }] }]
            };

            try {
                const response = await fetch(apiUrl, {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify(payload)
                });

                if (!response.ok) {
                    const errorData = await response.json();
                    console.error("Error from Gemini API:", errorData);
                    throw new Error(`Error de la API: ${response.status} ${response.statusText}. Detalles: ${JSON.stringify(errorData.error?.message || errorData)}`);
                }

                const result = await response.json();

                if (result.candidates && result.candidates.length > 0 &&
                    result.candidates[0].content && result.candidates[0].content.parts &&
                    result.candidates[0].content.parts.length > 0) {
                    const text = result.candidates[0].content.parts[0].text;
                    outputElement.textContent = text;
                } else {
                    outputElement.textContent = "No se pudo obtener una respuesta con contenido del modelo. Verifique la consola para más detalles.";
                    console.warn("Respuesta inesperada de la API de Gemini:", result);
                }
            } catch (error) {
                console.error("Error al llamar a la API de Gemini:", error);
                outputElement.textContent = `Error al generar contenido: ${error.message}. Por favor, inténtelo de nuevo más tarde.`;
            } finally {
                spinnerElement.style.display = 'none';
                outputElement.style.display = 'block';
            }
        }

        // Personalized content generation
        const personalizedContentBtn = document.getElementById('generatePersonalizedContentBtn');
        if (personalizedContentBtn) {
            personalizedContentBtn.addEventListener('click', () => {
                const prompt = "Eres un experto en marketing para Koaj.co, una reconocida marca de moda colombiana para jóvenes y adultos jóvenes. Genera 3 ejemplos de mensajes de marketing altamente personalizados y atractivos:\n\n1.  **Línea de Asunto para Email:** Para un cliente que ha mostrado interés en 'nuevas colecciones de jeans para mujer'.\n2.  **Mensaje Corto de WhatsApp:** Para un cliente que abandonó un carrito con una 'chaqueta de cuero sintético'.\n3.  **Descripción de Producto Breve (2-3 frases):** Para una 'camiseta gráfica de edición limitada con diseño urbano'.\n\nEnfócate en un tono juvenil, moderno y que incite a la acción. Incluye emojis relevantes donde sea apropiado.";
                const outputEl = document.getElementById('personalizedContentOutput');
                const spinnerEl = document.getElementById('personalizedContentSpinner');
                callGeminiAPI(prompt, outputEl, spinnerEl);
            });
        }

        // Journey content generation
        const journeyButtons = document.querySelectorAll('.gemini-button[data-journey-type]');
        journeyButtons.forEach(button => {
            if (button.id === 'generatePersonalizedContentBtn') return; 

            button.addEventListener('click', () => {
                const journeyType = button.dataset.journeyType;
                const journeyName = button.dataset.journeyName;
                const spinnerId = `journey${journeyType.split(" ")[0]}Spinner`; 
                const outputId = `journey${journeyType.split(" ")[0]}Output`;   

                const prompt = `Eres un estratega de marketing digital creativo para Koaj.co, una marca de moda colombiana líder, conocida por su estilo juvenil y tendencias actuales. Para un Customer Journey de '${journeyType}' (específicamente enfocado en '${journeyName}'), sugiere 3 ideas de contenido distintas y originales para enviar por email o WhatsApp. Cada idea debe incluir:\n\n1.  **Concepto Principal:** (Ej: "Detrás de Escena Exclusivo", "Reto de Estilo Koaj", "Tu Guía Personalizada de Tendencias")\n2.  **Mensaje Clave / CTA:** (Ej: "Descubre la magia de Koaj", "Participa y gana!", "Encuentra tu look perfecto ahora")\n3.  **Canal Sugerido:** (Email o WhatsApp)\n\nAsegúrate que las ideas sean atractivas, relevantes para la etapa del journey y reflejen la identidad de Koaj.co. Usa emojis si es apropiado.`;
                
                const outputEl = document.getElementById(outputId);
                const spinnerEl = document.getElementById(spinnerId);
                callGeminiAPI(prompt, outputEl, spinnerEl);
            });
        });
    </script>
</body>
</html>